---
pipeline:
    name: svCapture
    description: "Characterize structural variant junctions in short-read, paired-end capture library(s)"
    version: v0.0.0
actions:
    align:
        order: 1
        thread: do
        module: genomex-mdi-tools//align/dna-paired-end  
    realign:
        order: 2
        thread: do

        # environment: svCapture-realign
        condaFamilies:
            - genomex-mdi-tools//base
            - genomex-mdi-tools//genome
            # - r-4.1
        optionFamilies: # these options apply to all actions
            - genomex-mdi-tools//genome
            - genomex-mdi-tools//name-bam-file            
            - genomex-mdi-tools//bam-format
            - genomex-mdi-tools//illumina-type
            - genomex-mdi-tools//read-filtering
            - genomex-mdi-tools//read-merging                      
        resources:
            required:
                total-ram: 32G
            recommended: 
                n-cpu: 8
                ram-per-cpu: 4G
        job-manager:
            recommended:
                time-limit: 24:00:00
        description: "group reads, make consensuses, and re-align to genome"

    find:
        order: 3
        thread: do
        module: find  

# package:
#     uploadType: _template # a signal to the Stage 2 framework regarding the package contents
#     packageAction: do     # the pipeline action after which the data package should assembled
#     files:
#         directoryContents:  # a contentFileType of any name you choose; 'manifestFile' has special meaning
#             type: file-list # additional information as to the file type
#             file: $DATA_FILE_PREFIX.directoryContents.txt
#         dataFrame:
#             type: sample-value-matrix
#             header: true
#             separator: comma
#             file: $DATA_FILE_PREFIX.mtcars.csv
#         # manifestFile: # a sample manifest
#         #     type: manifest-file
#         #     manifestType: xxxx
#         #     file: $XXXX.xxxx
container:
    supported: false    # set to true if you maintain a container registry for this pipeline [false]
    registry:  ghcr.io  # domain name of your OCI-compatible, oras-accessible, container registry [ghcr.io]
    owner:     xxxxxxxx # REQUIRED: the name of the owner, e.g., user or organization, at 'registry'
    installer: apt-get  # the installer program used by the container OS, typically apt-get or yum [apt-get]
